
## 出场逻辑对比 (Exit logic comparisons)

Freqtrade 允许您的策略使用基于信号或基于回调的函数来实现不同的出场逻辑。
本节旨在对比每种不同的函数，帮助您选择最适合您需求的函数。

* **`populate_exit_trend()`** - 使用主数据帧 (dataframe) 中的指标进行向量化的、基于信号的出场逻辑。
  ✅ **适用场景**：用于定义基于指标或其他可以进行向量化计算的数据的出场信号。
  🚫 **建议避免**：用于为每个单独的交易自定义出场条件，或者需要交易数据来做出出场决策的情况。
* **`custom_exit()`** - 自定义出场逻辑，将立即完全退出交易。在交易关闭前，每次机器人循环迭代都会为每个开仓交易调用该函数。
  ✅ **适用场景**：用于为每个单独交易指定出场条件（包括使用 `adjust_trade_position()` 的任何额外调整订单），或者需要交易数据来做出出场决策（例如使用利润数据出场）。
  🚫 **建议避免**：当您希望使用向量化的基于指标的数据时（请使用 `populate_exit_trend()` 信号）；作为 `custom_stoploss()` 的代理使用；并且要注意，回测中基于价格 (rate) 的出场可能不够准确。
* **`custom_stoploss()`** - 自定义追踪止损，在交易关闭前，每次迭代都会为每个开仓交易调用。此处返回的值也用于 [交易所端止损 (stoploss on exchange)](stoploss.md#交易所端止损-stop-loss-on-exchange)。
  ✅ **适用场景**：用于自定义止损逻辑，根据交易数据或其他条件设置动态止损。
  🚫 **建议避免**：用于根据特定条件立即退出交易。此类需求请使用 `custom_exit()`。
* **`custom_roi()`** - 自定义 ROI (投资回报率)，在交易关闭前，每次迭代都会为每个开仓交易调用。
  ✅ **适用场景**：用于指定最小 ROI 阈值（“止盈”），以便在交易期间的某个时间点根据利润或其他条件以该 ROI 水平退出交易。
  🚫 **建议避免**：用于根据特定条件立即退出交易（请使用 `custom_exit()`）；用于静态 ROI（请使用 `minimal_roi`）。
